{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
{{ super() }}
<style type="text/css">
        .important { color: #336699; }





</style>
{% endblock %}
{% block content %}


<div class="container">
    <!-- Example row of columns -->
    <div class="row">
        <div class="col-md-3">
            <h2>设置</h2>
            <div id="sandbox-container">
                <label >过滤日期</label>
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control start" name="start"/>
                    <span class="input-group-addon">to</span>
                    <input type="text" class="input-sm form-control end" name="end"/>
                </div>
            </div>

            <div class="form-group">
                <label for="region_option">选择地区</label>
                <select id="region_option" class="form-control" data-role="select-dropdown"
                        data-profile="minimal">
                {% for region in region_options %}
                <option value="{{ region }}">{{ region }}</option>
                {% endfor %}
                </select>
            </div>
            <label >选择邮件来源</label>
            {% for mail_folder in mail_folders %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="{{ mail_folder.name }}"/>
                <label class="form-check-label">
                    {{ mail_folder.name }}
                </label>
            </div>
            {% endfor %}
            <h5 class="page-header"></h5>
            <button type="button" class="btn btn-primary" onclick="task_query()">开始处理</button>
        </div>
        <div class="col-md-9">
            <h2>记录</h2>
            <table class="table table-striped table-hover" id="task_table" data-toggle="table" data-height="460"
                   data-url="">
                <thead>
                <tr>
                    {% for header in table_headers %}
                    <th data-field="{{ header[1] }}">{{ header[0] }}</th>
                    {% endfor %}
                </tr>
                </thead>
            </table>
            <div>
                <button id="export_button" type="button" class="btn btn-primary" data-loading-text="等待下载">导出结果</button>
                <a href="" id="to_chart_button">
                    <button type="button" class="btn btn-primary">开始分析</button>
                </a>
            </div>
        </div>
    </div>

    <hr>

    <footer>
        <p>&copy; 2021 Company, Inc.</p>
    </footer>
</div> <!-- /container -->
{% endblock %}

{% block footer %}
<script src="{{ url_for('static', path='/js/bootstrap-datepicker.js') }}"></script>
<script src="{{ url_for('static', path='/js/chart.min.js') }}"></script>
<script src="{{ url_for('static', path='/js/tasks_query.js') }}"></script>
{% endblock %}
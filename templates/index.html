{% extends "base.html" %}
{% block title %}Index{% endblock %}
{% block head %}
{{ super() }}
<style type="text/css">
        .important { color: #336699; }

</style>
{% endblock %}
{% block content %}


<div class="container">
    <!-- Example row of columns -->
    <div class="row">
        <div class="col-md-3">
            <h2>设置</h2>
            <div id="sandbox-container">
                <div class="input-daterange input-group" id="datepicker">
                    <input type="text" class="input-sm form-control start" name="start"/>
                    <span class="input-group-addon">to</span>
                    <input type="text" class="input-sm form-control end" name="end"/>
                </div>
            </div>
            {% for mail_folder in mail_folders %}
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"/>
                    <label class="form-check-label" for="flexCheckDefault">
                        {{ mail_folder.name }}
                    </label>
                </div>
            {% endfor %}
            <button type="button" class="btn btn-primary" onclick="task_query()">开始处理</button>
        </div>
        <div class="col-md-9">
            <h2>记录</h2>
            <table class="table table-striped table-hover" id="task_table">
                <thead>
                    <tr>
                        {% for task_header in task_dataframe.headers %}
                                <th scope="col">{{ task_header|e }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for task_data in task_dataframe.data %}
                        <tr>
                            {% for task_info in task_data %}
                                <th scope="col">{{ task_info|e }}</th>
                            {% endfor %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <div>
                <a href="./file/main.py" download="main.py">
                    <button type="button" class="btn btn-primary">导出结果</button>
                </a>
                <a href="./chart">
                    <button type="button" class="btn btn-primary">开始分析</button>
                </a>
            </div>
        </div>
    </div>

    <hr>

    <footer>
        <p>&copy; 2016 Company, Inc.</p>
    </footer>
</div> <!-- /container -->
{% endblock %}

{% block footer %}
<script src="{{ url_for('static', path='/js/bootstrap-datepicker.js') }}"></script>
<script src="{{ url_for('static', path='/js/chart.min.js') }}"></script>
<script src="{{ url_for('static', path='/js/tasks_query.js') }}"></script>
{% endblock %}